# Cursor Rules and Scratchpad

## Current Task
[X] Configure Vercel to only deploy main branch
[X] Create ignore build script
[X] Update vercel.json configuration
[ ] Test the configuration

## Task Description
User reported that Vercel was building every branch unnecessarily, causing deployment failures. The goal is to configure Vercel to only build and deploy the `main` branch, while allowing developers to create feature branches and PRs without triggering builds.

## Solution Implemented
1. Created `vercel.json` with:
   - Git deployment configuration limiting to main branch
   - Ignore command pointing to custom script
2. Created `scripts/ignore-build.sh` that checks branch name and only allows builds on `main`
3. Made the script executable

## Lessons

### User Specified Lessons
- You have a python venv in ./venv. Use it.
- Include info useful for debugging in the program output.
- Read the file before you try to edit it.
- Due to Cursor's limit, when you use `git` and `gh` and need to submit a multiline commit message, first write the message in a file, and then use `git commit -F <filename>` or similar command to commit. And then remove the file. Include "[Cursor] " in the commit message and PR title.

### Cursor learned
- For search results, ensure proper handling of different character encodings (UTF-8) for international queries
- Add debug information to stderr while keeping the main output clean in stdout for better pipeline integration
- When using seaborn styles in matplotlib, use 'seaborn-v0_8' instead of 'seaborn' as the style name due to recent seaborn version changes
- Use 'gpt-4o' as the model name for OpenAI's GPT-4 with vision capabilities
- Vercel deployment control: Use both `git.deploymentEnabled` in vercel.json AND an ignore build script for maximum control over which branches trigger builds

